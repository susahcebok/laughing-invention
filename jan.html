<!doctype html>
<html>
<head>
<title>Palestine Profile Pic Maker</title>

<meta charset="utf-8" />
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
<style type="text/css">
body {
background-color: #f0f0f2;
margin: 0;
padding: 0;
font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;  
}
main {
width: 600px;
margin: 2em auto;
padding: 3em;
background-color: #fdfdff;
border-radius: 0.5em;
box-shadow: 2px 3px 7px 2px rgba(0,0,0,0.02);
}
a:link, a:visited {
color: #38488f;
text-decoration: none;
}
img, canvas {
width: 100%;
height: auto;
}
button {
border: 0;
background: #ddd;
padding: 6px 12px;
overflow: visible;
cursor: pointer;
}
button,
select {
text-transform: none;
}
button,
html input[type="button"],
input[type="reset"] {
-webkit-appearance: button;
cursor: pointer;
}
button[disabled],
html input[disabled] {
cursor: default;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
border: 0;
padding: 0;
}
.image-upload > input {
display: none;
}
.image-upload img {
background-color: #fdfdff;
width: 100%;
cursor: pointer;
}
.image-upload img:hover {
background-color: #ddd;
}
	
.box {
transition-duration: 0.4s; 
border-radius: 0.5em;
border: grey dashed;
padding: 1em;
margin-bottom: 1em; 
}
	
@media (max-width: 700px) {
main {
margin: 0 auto;
width: auto;
}
}
</style>    
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.2.0/p5.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.2.0/addons/p5.sound.min.js"></script>	
</head>

<body>
<main id="main">
<h1>Palestine Profile Pic Maker</h1>
<p>Bingkai profil Anda dengan warna Palestina. Biarkan foto profil Anda berbicara banyak tentang perdamaian dan keadilan.</p>
	
<p>
<div class="box">
<div class="image-upload">
<label for="fileInput">
<input type="file" id="fileInput" accept="image/*" style="display:none;">
<canvas id="cvs"></canvas>
</label>
</div>
</div>
</p>
	
<p id="value"></p>
<p id="warning"></p>
	
<p>
<button type="submit" onclick="generate()" class="btn">Generate</button>  
<button onclick="download()" id="download" disabled>Download</button>
<button onclick="location.reload()">Reset</button>
</p>
</main>
	
<script type="text/javascript" src="js/share.js"></script>
<script>
let canvas = document.getElementById('cvs');
let c = canvas.getContext('2d');
let filename = "image";
let btnDownload = document.getElementById('download');
let reader = new FileReader();
let target = new Image();
let target2 = new Image();
let image = document.getElementById('fileInput');
		
c.canvas.width = 1024;
c.canvas.height = 1024;

// c.fillStyle = "#ff19a7";
 c.textBaseline = 'middle'; 
 c.font = "48px Arial";
 c.textAlign = 'center'; 
 c.fillText("UPLOAD FOTO", c.canvas.width/2, c.canvas.height/2);
	
let download = function () {
link = document.createElement('a');
link.download = filename + '.png';
link.href = document.getElementById('cvs').toDataURL()
link.click();
}

let destroyInterval = () => {
for (var i = 1; i < 99999; i++)
window.clearInterval(i);
}
	
let load = () => {
c.clearRect(0, 0, c.canvas.width, c.canvas.height);
draw();
}

let draw = () => {
//  made reponsive twibbon
	
c.drawImage(target, 0, 0, canvas.width, canvas.height);
c.drawImage(target2, 0, 0, canvas.width, canvas.height);
}

let enableButton = () => {
let
}

let init = () => {
run = setInterval(function () {
load();
}, 1000);
}

let setTwibbon = () => {
target2.src = 'picture.png';
}

let imageReaderOnLoad = () => {
reader.onload = (res) => {
target.src = res.target.result.replace(/ +/g, "");
}
}

let enableBtnDownload = () => {
btnDownload.removeAttribute('disabled');
}

let generate = () => {
    	
if(image.files[0] === undefined) 
warning.innerHTML = "Gambar kosong! ";
else{
destroyInterval();                               
imageReaderOnLoad();
setTwibbon();
enableBtnDownload();
reader.readAsDataURL(image.files[0]);
init();
}
}
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
$('#fileInput').on('change',function(event){
var name = event.target.files[0].name;
$('#value').text(name);
 })
</script>
<script>
document.getElementById('download').onclick = function () {
var img = canvas.toDataURL('image/png');
var link = document.createElement("a");
link.download = 'image';
link.href = img;
link.click();
  
var win = window.open('', '_blank');
win.document.write('<img style="width:100%;height:auto;" src="' + img + '" alt="Palestine Profile Pic Maker"/>');
win.document.write('<h1 style="font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;font-weight: 300;">Right Click > Save As<h1>');
win.document.body.style.padding = '2em';
};
</script>

<script>
Cookies
The p5.js Editor uses cookies. Some are essential to the website functionality and allow you to manage an account and preferences. Others are not essential—they are used for analytics and allow us to learn more about our community. We never sell this data or use it for advertising. You can decide which cookies you would like to allow, and learn more in our Privacy Policy.


Allow All

Allow Essential
File
Edit
Sketch
Help
English
Log in
or
Sign up



Auto-refresh

sound input demo
by khanniie



sketch.js
1
let song, analyzer;
2
let started = false;
3
​
4
function preload() {
5
  song = loadSound('https://cdn.glitch.com/ce69db36-acda-4006-b5ff-676dca4d95ba%2FCat%20Choir.mp3?v=1608328030444');
6
}
7
​
8
function setup() {
9
  let can = createCanvas(600, 600);
10
​
11
  // create a new Amplitude analyzer
12
  analyzer = new p5.Amplitude();
13
​
14
  // set the song you loaded earlier as input
15
  analyzer.setInput(song);
16
​
17
  // just some fills and styles
18
  textSize(24);
19
  fill("red");
20
  background(255, 230, 230);
21
  stroke('black');
22
​
23
  //tell people you need to click to start
24
  text("Click to start", width / 2 - 70, height / 4)
25
}
26
​
27
//start the song on mouse click
28
function mouseClicked() {
29
  if (!started) {
30
    song.loop();
31
    started = true;
32
  }
33
}
34
​
35
function draw() {
36
​
37
  //we can't start the song until
38
  //the player clicks on the page
39
  if (!started) {
40
    return;
41
  }
42
​
43
  background(255, 230, 230);
44
​
45
  // Get the average (root mean square) amplitude
46
  let rms = analyzer.getLevel();
47
​
48
  let circleDiameter = map(rms, 0, 1, 20, 400);
49
  circle(width / 2, height / 2, circleDiameter);
50
  
51
  
52
  // uncomment the block below if you want 
53
  // to see how mouse position can change the sound
54
​
55
  // let volume = map(mouseY, 0, height, 1.5, 0.3);
56
  // volume = constrain(volume, 0.3, 1.5)
57
  // song.amp(volume);
58
  // let speed = map(mouseX, 0, width, 0.9, 1.15);
59
  // speed = constrain(speed, 0.9, 1.15)
60
  // song.rate(speed);
61
​
62
}
There are no lint messages
Current line

Console
Clear

Preview

</script>
</body>
</html>
