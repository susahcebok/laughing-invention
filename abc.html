<!doctype html>
<html>
<head>
    <title>Example Domain</title>

    <meta charset="utf-8" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type="text/css">
    body {
        background-color: #f0f0f2;
        margin: 0;
        padding: 0;
        font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
        
    }
    main {
        width: 600px;
        margin: 5em auto;
        padding: 2em;
        background-color: #fdfdff;
        border-radius: 0.5em;
        box-shadow: 2px 3px 7px 2px rgba(0,0,0,0.02);
    }
    a:link, a:visited {
        color: #38488f;
        text-decoration: none;
    }
    button, #inputbtn {
	display: inline-block;
        border:none;
        background: #ddd;
        border-radius: 4px;
        padding: 6px 12px;
        display: block;
        cursor: pointer;
    }
    img, canvas, #canvas {
        width: 100%;
        height: auto
    }
    .image-upload > input {
	display: none;
    }
    .image-upload img {
	width: 100%;
	cursor: pointer;
    }
    #dropbox {
	border: grey dashed;
	padding: 1em;
	margin-bottom: 1em;
	border-radius: 4px;
    }
	    
    @media (max-width: 700px) {
        main {
            margin: 0 auto;
            width: auto;
        }
    }
    </style>    
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js"></script>
	
</head>

<body>
<main>
    <h1>Example Domain</h1>
    <p>This domain is for use in illustrative examples in documents. You may use this
    domain in literature without prior coordination or asking for permission.</p>
    
    <p>
    <div class="image-upload">
    <label for="inputbtn">
    <div id="dropbox" aria-label="File Selection Section">
    Letakkan file gambar di sini atau klik untuk mengunggah.
    </div><!-- dropbox -->
    </label>
    <input id="inputbtn" type="file" accept="image/*" aria-label="Select the picture you want to use">
    </div><!-- image-upload -->
    <!--<button id="inputbtn">Upload Fotomu Disini</button>-->
    <div id="canvas"></div>
    </p>
    <p>
    <button onclick="download()">Download</button>
    <button onclick="remake()">Reset</button>
    </p>
</main>
    <script>

		function preload() {
		   mask = loadImage('picture.png');
		}

		function setup() {
			var uploadBtn = createFileInput(imageUpload);
			uploadBtn.parent('inputbtn').accept = "image/*";
			  // create canvas
			  var c = createCanvas(500, 500);
			  background('#fff');
			  c.parent('canvas');
			  // Add an event for when a file is dropped onto the canvas
			  c.drop(gotFile);
		}

		function draw() {
		  fill(0);
		  noStroke();
		  textSize(14);
		  textAlign(CENTER);
		  text('Fotomu akan Muncul disini', width/2, height/2);
		  noLoop();
		}

		function remake() {
			background('#fff');
			redraw();
		}

		// function changeColor() {
		// 	image(img, mouseX, mouseY, img.width, img.height);
		// }

		function download() {
			saveCanvas("twibbon", 'jpg');
		}

		function gotFile(file) {
		  // If it's an image file
		  if (file.type === 'image') {
		    // Create an image DOM element but don't show it
		    background('#fff');
		    redraw();
		    var img = createImg(file.data).hide();
		    // Draw the image onto the canvas
		   image(img, 0, 0, width , height);

		   
		   image(mask, 0, 0, width, height);
		  } else {
		    println('Not an Photos file!');
		  }
		}

		function imageUpload(file){
		    img = loadImage(file.data,function(){
		    	background('#fff');
		    	redraw();
		    	image(img, 0, 0, width , height);
		        image(mask,0,0,width,height);
		    })        
		}
	</script>
</body>
</html>
